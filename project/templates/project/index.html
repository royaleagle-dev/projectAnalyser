{%extends "project/base.html"%}

{%block content%}

<section class = "row" style = "margin-top:100px;">
	<div class = "col-md-8 offset-md-2">
		<div id = "all" class = "content">
		{%for item in projects.all%}
		<div class = "row p-3" style = "">
			<div class = "col-md-2">
				<h1 class = "first">{{item.name | slice:":1"}}</h1>
			</div>
			<div class = "col-md-10">
				<h4><a href = "{%url 'project:details' item.pk%}" class = "text-dark">{{item.name}}</a></h4>
				{%if item.completed == False%}
				<button class = "btn btn-danger mt-1 mb-1">Pending</button>
				{%else%}
				<button class = "btn btn-success mt-1 mb-1">Completed</button>
				{%endif%}
				<p class = "mt-3">Developer: <strong>{{item.developer}}</strong></p>
			</div>
		</div>
		<hr>
		{%endfor%}
		</div>

		<div id = "completed" class = "content" style = "display:none">
		{%for item in projects.completed%}
		<div class = "row p-3" style = "">
			<div class = "col-md-2">
				<h1 class = "first">{{item.name | slice:":1"}}</h1>
			</div>
			<div class = "col-md-10">
				<h4><a href = "{%url 'project:details' item.pk%}" class = "text-dark">{{item.name}}</a></h4>
				{%if item.completed == False%}
				<button class = "btn btn-danger mt-1 mb-1">Pending</button>
				{%else%}
				<button class = "btn btn-success mt-1 mb-1">Completed</button>
				{%endif%}
				<p class = "mt-3">Developer: <strong>{{item.developer}}</strong></p>
			</div>
		</div>
		<hr>
		{%endfor%}
		</div>

		<div id = "pending" class = "content" style = "display:none">
		{%for item in projects.pending%}
		<div class = "row p-3" style = "">
			<div class = "col-md-2">
				<h1 class = "first">{{item.name | slice:":1"}}</h1>
			</div>
			<div class = "col-md-10">
				<h4><a href = "{%url 'project:details' item.pk%}" class = "text-dark">{{item.name}}</a></h4>
				{%if item.completed == False%}
				<button class = "btn btn-danger mt-1 mb-1">Pending</button>
				{%else%}
				<button class = "btn btn-success mt-1 mb-1">Completed</button>
				{%endif%}
				<p class = "mt-3">Developer: <strong>{{item.developer}}</strong></p>
			</div>
		</div>
		<hr>
		{%endfor%}
		</div>

	</div>
</section>

{%endblock%}

{%block javascript%}
<script>
	var contentList = document.getElementsByClassName('content');
	var completed = document.querySelector('#completed');
	var pending = document.querySelector('#pending');
	var all = document.querySelector('#all');
	var allBtn = document.querySelector("#allBtn");
	var pendingBtn = document.querySelector("#pendingBtn");
	var completedBtn = document.querySelector("#completedBtn");

	function openTab(elemId){
		for (var i = 0; i<contentList.length; i++){
			contentList[i].style.display = "none";
		}

		document.getElementById(elemId).style.display = "block";
	}

	/*
	allBtn.addEventListener('click', openTab('all'));
	pendingBtn.addEventListener('click', openTab('pending'));
	completedBtn.addEventListener('click', openTab('completed'));
	*/


</script>
{%endblock%}